<!DOCTYPE html>
<html>

<head>
    <title>Kilometrina</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="appjs/app.min.css">
    <link rel="stylesheet" href="src/css/styles.css">
    <link rel="stylesheet" href="src/css/checkbox.css">
</head>

<body>
    <!-- check local storage page -->
    <div class="app-page" data-page="checkStorage">
        <div class="hidden js-storage-alert">
            <div class="app-topbar">
                <div class="app-title">Kilometrina</div>
            </div>
            <div class="app-content">
                <div class="app-section">
                    <h2>
                        Aplikacije ni bilo moč zagnati!
                    </h2>
                </div>
                <div class="app-section">
                    <p>
                        Vaš telefon / brskalnik trenutno ne podpira te aplikacije.
                    </p>
                    <p>
                        Prosim <strong>posodobite spletni brskalnik</strong> (Google Chrome) in poiskusite znova.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Home page -->
    <div class="app-page" data-page="home">
        <div class="app-topbar">
            <div class="app-title">
                Kilometrina
            </div>
            <div class="right app-button" data-target="settings">
                <img class="btn-image" src="src/img/settings.png" alt="settings button">
            </div>
        </div>
        <div class="app-content">
            <div class="app-section js-last-route-div">
                <p class="subtitle">
                    Zadnji vnosi:
                </p>
                <div class="js-last-routes-list"></div>
                <div class="app-button blue" data-target="showAllRoutes">
                    Prikaži vse vnose
                </div>
            </div>
            <div class="app-section js-statistics-div">
                <p class="subtitle">
                    Statistika:
                </p>
                <p>
                    <div class="js-statistic-range-div">
                        <span>Prikazano - </span>
                        <span class="js-statistic-range-displayed" disabled dayRange="-1">
                            Vse
                        </span>
                    </div>
                    <ul class="app-list hideOverflow hidden js-statistic-range-list">
                        <li value="-1" class="app-button prefab-item js-statistic-selection">
                            » Vse
                        </li>
                        <li value="365" class="app-button prefab-item js-statistic-selection">
                            » Zadnje leto
                        </li>
                        <li value="91" class="app-button prefab-item js-statistic-selection">
                            » Zadnje 3 mesece
                        </li>
                        <li value="30" class="app-button prefab-item js-statistic-selection">
                            » Zadnji mesec
                        </li>
                        <li value="7" class="app-button prefab-item js-statistic-selection">
                            » Zadnji teden
                        </li>
                    </ul>
                </p>
                <div class="js-statistics"></div>
            </div>
            <div class="app-section">
                <div class="app-button green" data-target="addNewRoute">
                    Dodaj novo pot
                </div>
            </div>
            <div class="app-section js-static-route-div">
                <p class="subtitle">
                    Stalne poti:
                </p>
                <ul class="app-list js-static-route-list">
                </ul>
            </div>
        </div>
    </div>

    <!-- Add new route -->
    <div class="app-page" data-page="addNewRoute">
        <div class="app-topbar">
            <div class="left app-button" data-back data-autotitle></div>
            <div class="app-title">
                Dodaj novo pot
            </div>
            <div class="right app-button js-add-route-done">Končano</div>
        </div>
        <div class="app-content">
            <div class="app-section">
                <div class="js-input-section">
                    <label for="vehicle"><strong>
                            Vozilo
                        </strong></label>
                    <input type="text" id="vehicle" class="app-input js-vehicle" placeholder="Vnesite vozilo">
                    <div class="prefab-list js-prefab"></div>
                </div>

                <div class="js-input-section">
                    <label for="driver"><strong>
                            Voznik
                        </strong></label>
                    <input type="text" id="driver" class="app-input js-driver" placeholder="Vnesite voznika">
                    <div class="prefab-list js-prefab"></div>
                </div>

                <div class="js-input-section">
                    <label for="destination"><strong>
                            Destinacija
                        </strong></label>
                    <input type="text" id="destination" class="app-input js-destination"
                        placeholder="Vnesite destinacijo">
                    <div class="prefab-list js-prefab"></div>
                </div>
            </div>

            <div class="app-section">
                <label for="kmStart"><strong>
                        Začetni kilometri
                    </strong></label>
                <input type="number" id="kmStart" class="app-input js-km-start" placeholder="Vnesite št. km">
                <label for="kmEnd"><strong>
                        Končni kilometri
                    </strong></label>
                <input type="number" id="kmEnd" class="app-input js-km-end" placeholder="Vnesite št. km">
                <label for="kmTotal"><strong>
                        Opravljeni kilometri
                    </strong></label>
                <input type="number" id="kmTotal" class="app-input js-km-total" placeholder="Vnesite št. km">
            </div>
            <div class="app-section">
                <label for="dateStart"><strong>
                        Datum
                    </strong></label>
                <input type="date" id="dateStart" class="app-input js-date-start" placeholder="Vnesite datum">

                <label for="dateEnd"><strong>
                        Do datuma (opcijsko)
                    </strong></label>
                <input type="date" id="dateEnd" class="app-input js-date-end" placeholder="Vnesite datum">
                <div class="js-div-days-in-week hidden hideOverflow">
                    <label for="daysInWeek"><strong>
                            Dnevi v tednu
                            <br><br>
                        </strong></label>
                    <label class="container">
                        Ponedeljek
                        <input type="checkbox" day="1" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">
                        Torek
                        <input type="checkbox" day="2" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">
                        Sreda
                        <input type="checkbox" day="3" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">
                        Četrtek
                        <input type="checkbox" day="4" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">
                        Petek
                        <input type="checkbox" day="5" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">
                        Sobota
                        <input type="checkbox" day="6" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">
                        Nedelja
                        <input type="checkbox" day="0" class="js-chkbox-days-in-week" checked>
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="app-section">
                <label for="comments"><strong>
                        Opombe
                    </strong></label>
                <textarea id="comments" cols="30" rows="3" class="app-input js-comments"
                    placeholder="Vnesite opombe"></textarea>
            </div>
            <div class="app-section">
                <label class="container">
                    <strong>Dodaj med stalne poti</strong>
                    <input type="checkbox" class="js-add-to-static-routes">
                    <span class="checkmark"></span>
                </label>
            </div>
            <div class="app-section hidden errors js-errors">

            </div>
            <div class="app-section">
                <div class="app-button green js-save">Shrani</div>
            </div>
        </div>
    </div>


    <!-- Show all routes -->
    <div class="app-page" data-page="showAllRoutes">
        <div class="app-topbar">
            <div class="left app-button" data-back data-autotitle></div>
            <!-- <div class="left app-button app-back" data-back data-target="home"></div> -->
            <div class="app-title">
                Vsi vnosi
            </div>
            <div class="right app-button js-show-hide-filters">Filtri</div>
        </div>
        <div class="app-content">
            <div class="app-section js-filters hidden">
                <div class="subtitle hideOverflow">Filtri</div>
                <div class="app-section">
                    <span>Vozilo</span>
                    <div class="js-filter-details" filter-data="vehicle"></div>
                </div>
                <div class="app-section">
                    <span>Voznik</span>
                    <div class="js-filter-details" filter-data="driver"></div>
                </div>
                <div class="app-section">
                    <span>Destinacija</span>
                    <div class="js-filter-details" filter-data="destination"></div>
                </div>
                <div class="app-section">
                    <span>Datum</span>
                    <div class="js-filter-details">
                        Od:
                        <input type="date" class="app-input" filter-data="dateStart" placeholder="Od datuma">
                        Do:
                        <input type="date" class="app-input" filter-data="dateEnd" placeholder="Do datuma">
                    </div>
                </div>
                <div class="app-section">
                    <span>Kilometri</span>
                    <div class="js-filter-details">
                        <input type="number" class="app-input" placeholder="Min kilometrov" filter-data="kmMin">
                        <input type="number" class="app-input" placeholder="Max kilometrov" filter-data="kmMax">
                    </div>
                </div>
                <div class="app-button blue js-filters-confirm">Potrdi filtre</div>

            </div>

            <div class="app-section js-all-routes"></div>

            <div class="app-section">
                <div class="app-button red js-delete-all">Pobriši vse vnose</div>
            </div>
        </div>
    </div>


    <!-- settings -->
    <div class="app-page" data-page="settings">
        <div class="app-topbar">
            <div class="left app-button" data-back data-autotitle></div>
            <div class="app-title">
                Nastavitve
            </div>
        </div>
        <div class="app-content">
            <div class="app-section card">
                <label class="container">
                    <strong>Izbriši vse shranjene vnose</strong>
                    <input type="checkbox" storage="routes" class="js-delete-storage-chkbox">
                    <span class="checkmark"></span>
                    <p>
                        <small>To dejanje bo izbrisalo vse poti, ki ste jih kadarkoli shranili.</small>
                    </p>
                </label>
            </div>
            <div class="app-section card">
                <label class="container">
                    <strong>Izbriši vse stalne poti</strong>
                    <input type="checkbox" storage="staticRoutes" class="js-delete-storage-chkbox">
                    <span class="checkmark"></span>
                    <p>
                        <small>To dejanje bo izbrisalo vse shranjene stalne predloge za poti, ki ste jih kadarkoli
                            shranili.</small>
                    </p>
                </label>
            </div>
            <div class="app-section card">
                <label class="container">
                    <strong>Izbriši vse predloge za vnos</strong>
                    <input type="checkbox" storage="prefabData" class="js-delete-storage-chkbox">
                    <span class="checkmark"></span>
                    <p>
                        <small>To dejanje bo izbrisalo vse shranjene predloge, ki se prikažejo pri novem vnosu.</small>
                    </p>
                </label>
            </div>
            <div class="app-section card">
                <label class="container">
                    <strong>Pobriši zanjde vnešene podatke</strong>
                    <input type="checkbox" storage="lastEnteredData" class="js-delete-storage-chkbox">
                    <span class="checkmark"></span>
                    <p>
                        <small>To dejanje bo izbrisalo shranjene podatke o zadnji poti, ki se samodejno prikažejo pri
                            novem vnosu.</small>
                    </p>
                </label>
            </div>
            <div class="app-section">
                <div class="app-button red js-delete-storage-btn">Potrdi</div>
            </div>
        </div>
    </div>
    </div>

    <script src="appjs/zepto.js"></script>
    <script src="appjs/app.min.js"></script>

    <script src="src/js/slideDownUp.js"></script>

    <script src="src/js/checkStorage.js"></script>
    <script src="src/js/home.js"></script>
    <script src="src/js/addNewRoute.js"></script>
    <script src="src/js/showAllRoutes.js"></script>
    <script src="src/js/settings.js"></script>
    <script>
        try {
            //App.load('checkStorage');
            //App.restore();
            App.load('home');
        } catch (err) {
            App.load('home');
            //App.load('checkStorage');
        }
    </script>
</body>

</html>